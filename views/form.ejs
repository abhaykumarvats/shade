<%
let title, otherTitle, otherType, subText;
if (type === 'register') { 
  title = 'Register';
  otherTitle = 'Log In';
  otherType = 'login';
  subText = 'Already have an account?';
} else if (type === 'login') {
  title = 'Log In';
  otherTitle = 'Register';
  otherType = 'register';
  subText = "Don't have an account?"; 
}
%>

<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Metadata -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />

    <!-- Title -->
    <title><%= title %> | Shade</title>

    <!-- Bootstrap stylesheet -->
    <link rel="stylesheet" href="/public/css/bootstrap.min.css" />

    <!-- Form stylesheet -->
    <link rel="stylesheet" href="/public/css/form.css" />
  </head>

  <body>
    <!-- Flex container -->
    <div class="flex-container">
      <!-- Flex item -->
      <div class="flex-item">
        <!-- Alert box, if required -->
        <% if (alertMessage) { %>
          <div class="alert alert-<%= alertType %>">
            <%= alertMessage %>
          </div>
        <% } %>

        <!-- Heading -->
        <h1><%= title %></h1>

        <!-- Log In / Register form -->
        <form action="/<%= type %>" method="POST">
          <!-- Sub-text -->
          <div class="form-group">
            <small class="form-text text-muted">
              <%= subText %> <a href="/<%= otherType %>"><%= otherTitle %></a>
            </small>
          </div>

          <!-- Username form group -->
          <div class="form-group">
            <!-- Username label -->
            <label for="username">Username</label>

            <!-- Username input box -->
            <input
              type="text"
              class="form-control form-control-sm"
              id="username"
              name="username"
              placeholder="Enter username"
              required
            />
          </div>

          <!-- Password form group -->
          <div class="form-group">
            <!-- Password label -->
            <label for="password">Password</label>

            <!-- Password input box -->
            <input
              type="password"
              class="form-control form-control-sm"
              id="password"
              name="password"
              placeholder="Enter password"
              required
            />
          </div>

          <% if (type === 'register') { %>
            <!-- Consent form group -->
            <div class="form-group custom-control custom-checkbox">
              <!-- Consent checkbox -->
              <input
                type="checkbox"
                class="custom-control-input"
                id="consent"
                name="consent"
              />

              <!-- Consent label -->
              <label for="consent" class="custom-control-label">
                I would like to share my data with Shade.
              </label>
            </div>
          <% } %>

          <!-- Submit button -->
          <button type="submit" class="btn btn-outline-primary btn-sm">
            Submit
          </button>
        </form>
      </div>
    </div>
  </body>
</html>
